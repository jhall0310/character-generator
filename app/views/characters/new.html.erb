<div class="col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2 character-form">
  <h1>Create New Character</h1>

  <%= form_for :character, url: characters_path do |f| %>
    <%= f.hidden_field :user_id, :value => session[:user_id] %>
    <div class="col-md-6">
      <div data-spy="scroll" class="scroll">
        <div class="form-group">
          <label for='character_name'>Name</label>
          <%= f.text_field :name, class: 'form-control' %>
        </div>
        <div class="form-group">
          <% data = JSON.parse(File.read(Dir.pwd + '/reference/levels.json')) %>
          <label for='character_level'>Level</label>
          <%= f.number_field :level, value: 1, class: 'form-inline', in: 1..20 %>
          <label for='character_exp'>EXP</label>
          <%= f.number_field :exp, value: 0, class: 'form-inline', in: 0..355000 %>
        </div>
        <div class="form-group">
          <label for='character_gender'>Gender</label>
          <%= f.select(:gender, %w{ Male Female }, include_blank: true) %>
        </div>
        <div class="form-group">
          <label for='character_race'>Race</label>
          <% data = JSON.parse(File.read(Dir.pwd + "/reference/races.json")) %>
          <%= f.select(:race, data['races'].keys) %>
        </div>
        <div class="form-group">
          <label for='character_traits'>Traits</label>
          <div>
            <% data = JSON.parse(File.read(Dir.pwd + '/reference/traits.json')) %>
            <% data['traits'].each do |trait| %>
              <%= trait %>: <%= number_field_tag trait, '10', class: 'form-inline', in: 1..20 %><br>
            <% end %>
          </div>
        </div>
        <div class="form-group">
          <label for='character_background'>Background</label>
          <% data = JSON.parse(File.read(Dir.pwd + "/reference/backgrounds.json")) %>
          <%= f.select(:background, data['backgrounds'].keys) %>
        </div>
        <div class="form-group">
          <label for='character_character_class'>Class</label>
          <% data = JSON.parse(File.read(Dir.pwd + "/reference/classes.json")) %>
          <%= f.select(:character_class, data['classes'].keys) %>
        </div>
        <div class="form-group">
          <label for='character_skills'>Skills</label>
          <%= render partial: 'partials/character_form_scroll_checkbox', locals: { file: 'skills' } %>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <%= render 'partials/character_form_check' %>
    </div>
    <div class="col-md-12">
      <div class="form-group clearfix create-character-btn">
        <%= f.submit(class: 'btn btn-success') %>
      </div>
    </div>
  <% end %>
</div>